// 1 - create database monoto
// 2 - create table m_log
// 3 - create table m_notes



1. create DB
--
-- Database: `monoto`
--

CREATE DATABASE `monoto` DEFAULT CHARACTER SET latin1 COLLATE latin1_swedish_ci;
USE `monoto`;






2. create log table
--
-- Table structure for table `m_log`
--
CREATE TABLE IF NOT EXISTS `m_log` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `event` text CHARACTER SET latin1 NOT NULL,
  `details` text CHARACTER SET latin1 NOT NULL,
  `activity_date` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00' ON UPDATE CURRENT_TIMESTAMP,
  `owner` text CHARACTER SET latin1 NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 COMMENT='stores every edit, create, save etc' AUTO_INCREMENT=1 ;








3. create notes table
--
-- Table structure for table `m_notes`
--
CREATE TABLE IF NOT EXISTS `m_notes` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `title` text CHARACTER SET latin1 NOT NULL,
  `content` text CHARACTER SET latin1 NOT NULL,
  `tags` text CHARACTER SET latin1 NOT NULL,
  `date_mod` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00' ON UPDATE CURRENT_TIMESTAMP,
  `date_create` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00',
  `save_count` int(11) NOT NULL,
  `owner` text CHARACTER SET latin1 NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=1 ;






4. create user table
--
-- Table structure for table `m_users`
--
CREATE TABLE IF NOT EXISTS `m_users` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `username` varchar(30) CHARACTER SET latin1 NOT NULL,
  `password` varchar(64) CHARACTER SET latin1 NOT NULL,
  `salt` varchar(3) CHARACTER SET latin1 NOT NULL,
  `login_counter` int(11) NOT NULL,
  `logout_counter` int(11) NOT NULL,
  `failed_logins` int(11) NOT NULL,
  `failed_logins_in_a_row` int(2) NOT NULL,
  `user_icon` blob NOT NULL,
  `date_invite` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'stores date of invite via admin',
  `date_first_login` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00' COMMENT 'stores the first login',
  `date_last_login` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00' COMMENT 'stores the last login',
  `date_last_login_fail` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00',
  `is_admin` tinyint(1) NOT NULL,
  `email` text CHARACTER SET latin1 NOT NULL,
  `admin_note` text CHARACTER SET latin1 NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `username` (`username`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=12 ;








--
-- SPECIAL: JUST DELETE CONTENT OF SPECIFIC TABLES
--
TRUNCATE TABLE m_log;
TRUNCATE TABLE m_notes;
TRUNCATE TABLE m_users;